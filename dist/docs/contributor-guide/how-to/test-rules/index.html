<!doctype html><html lang="en"><head><meta charset="utf-8"><title>Test a hint | webhint documentation</title> <meta property="og:image" content="/static/images/apple-touch-icon-c01d89d4f3.png"><meta property="og:description" content="webhint, a linting tool for the web focused on best practices and flexibility for the end user"><meta property="og:title" content="Test a hint"><meta name="description" content="webhint, a linting tool for the web focused on best practices and flexibility for the end user"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#4046dd"><link rel="manifest" href="/static/site-ba9e7c1c31.webmanifest"><link rel="apple-touch-icon" href="/static/images/apple-touch-icon-c01d89d4f3.png"><link type="application/opensearchdescription+xml" rel="search" href="/static/opensearch-e74f2b7427.xml" title="webhint"><link rel="icon" href="/static/images/favicon-dd9d5dff4e.ico"> <link rel="stylesheet" href="/static/styles/common-72d8f8f3a6.css" integrity="sha384-dEjqXiP7yoNv7imifzs8pJ8NRP1lWTkEVwNbzTpslGsK2OCQY3PsVHB/p5zGrVVT" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" integrity="sha384-mHx5KeR3zcLviQFPmpHqrwf2uxtukRvUFVzOMOqIjKjSNrurxlmJ3oS+vm49Mz07" crossorigin="anonymous"><link rel="stylesheet" href="/static/styles/docs-05234f2758.css" integrity="sha384-WG8oH0+JVs8yp6CW4dzCSdEuXZ7n1mR5xKjHyNzp+NSZN2B8Bq3f+zrsNQOHsGwh" crossorigin="anonymous"></head><body><div id="disclaimer" class="disclaimer">This site uses cookies for analytics. By continuing to browse this site, you agree to this use. <button class="close" aria-label="close">X</button></div> <header class="header"><div class="header-social"><div class="header-social__container container"><img src="/static/images/jsf_logo_white-a73061e34d.svg" alt="A JS Foundation Project"><ul class="header-social__list"><li class="github-icon"><a href="https://github.com/webhintio" aria-label="Follow webhint on GitHub"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25"><path class="github-icon-svg-header" d="M12.5.4C5.7.4.2 5.9.2 12.7c0 5.4 3.5 10 8.4 11.7.6.1.8-.3.8-.6v-2.1C6 22.4 5.3 20 5.3 20c-.6-1.4-1.4-1.8-1.4-1.8-1.1-.7.1-.7.1-.7 1.2.1 1.9 1.3 1.9 1.3 1.1 1.9 2.9 1.3 3.6 1 .1-.8.4-1.3.8-1.6-2.7-.3-5.6-1.4-5.6-6.1 0-1.3.5-2.4 1.3-3.3-.2-.4-.6-1.6 0-3.3 0 0 1-.3 3.4 1.3 1-.3 2-.4 3.1-.4 1 0 2.1.1 3.1.4C17.9 5.2 19 5.5 19 5.5c.7 1.7.2 2.9.1 3.3.8.9 1.3 2 1.3 3.3 0 4.7-2.9 5.8-5.6 6.1.4.4.8 1.1.8 2.3v3.4c0 .3.2.7.8.6 4.9-1.6 8.4-6.2 8.4-11.7C24.8 5.9 19.3.4 12.5.4"/></svg></a></li><li class="twitter-icon"><a href="https://twitter.com/narwhalnellie" aria-label="Follow webhint on Twitter"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 24"><path class="twitter-icon-svg-header" d="M25 4.4c-.9.4-1.9.7-2.9.8 1-.6 1.8-1.6 2.2-2.8-1 .6-2.1 1-3.2 1.2-.9-1-2.2-1.6-3.7-1.6-2.8 0-5 2.3-5 5 0 .4 0 .8.1 1.2C8.3 8 4.6 6 2.1 2.9c-.4.8-.7 1.6-.7 2.6 0 1.8.9 3.3 2.2 4.2-.8-.1-1.5-.3-2.2-.7v.1c0 2.4 1.7 4.5 4.1 5-.4.1-.9.2-1.3.2-.3 0-.6 0-.9-.1.6 2 2.5 3.5 4.7 3.5-1.9 1.3-4 2.1-6.4 2.1-.4 0-.8 0-1.2-.1C2.6 21.2 5.3 22 8.1 22c9.3 0 14.4-7.7 14.4-14.4v-.7c1-.6 1.8-1.5 2.5-2.5"/></svg></a></li><li class="medium-icon"><a href="https://medium.com/webhint" aria-label="Follow webhint on Medium"><svg xmlns="http://www.w3.org/2000/svg" viewBox="4 2 40 40"><path class="medium-icon-svg-header" d="M5 40V5h35v35H5zm8.56-12.63c0 .56-.03.7-.32 1.03l-2.45 3v.38h6.9v-.4l-2.4-2.98c-.3-.34-.35-.5-.35-1.03v-8.95l6.13 13.36h.7L27 18.42v10.64c0 .3 0 .35-.2.53L25 31.4v.37h9.2v-.4l-1.82-1.8c-.2-.17-.22-.23-.22-.52v-13.1c0-.3.03-.36.2-.54l1.83-1.8v-.32h-6.5L23.1 24.8l-5.2-11.55h-6.8v.4l2.14 2.63c.24.3.3.37.3.77V27.4z"/></svg></a></li></ul></div></div><div class="nav-bar container"><nav class="nav"><a href="/" class="clear logo--container"><img src="/static/images/webhint-logo-738912f920.svg" alt="webhint" class="header__logo navbar__navitem"></a><ul class="nav__navbar"><li class="navbar__navitem"><a role="button" href="/scanner/" id="scanner" aria-haspopup="true" aria-expanded="false" aria-controls="submenu-scanner" class="navitem__button ">Scanner</a> </li><li class="navbar__navitem"><a role="button" href="/docs/" id="docs" aria-haspopup="true" aria-expanded="false" aria-controls="submenu-docs" class="navitem__button expandable">Documentation</a> <ul role="group" id="submenu-docs" class="navbar__submenu" aria-hidden="true"><li><a href="/docs/contributor-guide/">Contributor Guide</a></li><li><a href="/docs/user-guide/hints/">Hints</a></li><li><a href="/docs/user-guide/">User Guide</a></li></ul></li><li class="navbar__navitem"><a role="button" href="/about/" id="about" aria-haspopup="true" aria-expanded="false" aria-controls="submenu-about" class="navitem__button expandable">About</a> <ul role="group" id="submenu-about" class="navbar__submenu" aria-hidden="true"><li><a href="/about/faq/">FAQ</a></li><li><a href="/about/changelog/">Changelog</a></li><li><a href="/about/governance/">Governance</a></li><li><a href="https://js.foundation/community/code-of-conduct">Code of Conduct</a></li></ul></li></ul><div class="nav-bar--container"><div class="nav-bar__input"><form action="/search" method="GET"><label for="search-input" class="visually-hidden">Search the documentation</label> <input type="search" id="search-input" placeholder="Search Documentation" name="q" aria-label="Search"> <button type="submit" aria-label="search" class="button-search"></button></form></div><button class="mobile-close-button" aria-label="Close Search Overlay">Close</button></div><div class="nav-bar--mobile-buttons"><button class="header__toggle mobile-nav-button" aria-label="Menu"></button> <button class="header__toggle mobile-search-button" aria-label="Search"></button></div></nav></div></header><main class="container">  <article class="content" aria-labelledby="page-heading"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/">Home</a></li><li><a href="../../../">Documentation</a></li><li><a href="../../" class="guide-category">Contributor guide</a></li><li aria-current="location">Test a hint</li></ul></nav><header class="page-intro"><h1 id="page-heading">Test a hint</h1><div class="documentation-actions"><ul><li><a target="_blank" href="https://github.com/webhintio/hint/edit/master/packages/hint/docs/contributor-guide/how-to/test-rules.md">Edit</a></li><li><a target="_blank" href="https://github.com/webhintio/hint/issues/new?title&#x3D;%5Bdocs%5D%20Issue%20with%20&#x27;Test%20a%20hint&#x27;&amp;body&#x3D;https%3A%2F%2Fwebhint.io%2Fdocs%2Fcontributor-guide%2Fhow-to%2Ftest-rules%2Findex.html">Signal Issue</a></li></ul></div></header><div class="section" id="main"><div class="layout layout--sidebar"><div class="module module--secondary mobile-view"><ul class="toc-mobile-view"><li><p role="button" id="mobile-toc" aria-controls="mobile-toc-submenu" aria-expanded="false" aria-haspopup="true" class="toc-mobile-view__button expandable">Contributor guide</p><ul role="group" class="toc-mobile-view__dropdown" id="mobile-toc-submenu" aria-hidden="true"><li class="dropdown__subitem"><a href="../../" class="subitem--single">Getting Started</a></li> <li class="dropdown__subitem"><p>Getting started</p><ul><li class="subitem"><a href="/docs/contributor-guide/getting-started/architecture/">Architecture</a></li><li class="subitem"><a href="/docs/contributor-guide/getting-started/development-environment/">Development environment</a></li><li class="subitem"><a href="/docs/contributor-guide/getting-started/events/">Events</a></li><li class="subitem"><a href="/docs/contributor-guide/getting-started/pull-requests/">Pull requests</a></li></ul></li><li class="dropdown__subitem"><p>Guides</p><ul><li class="subitem"><a href="/docs/contributor-guide/guides/create-custom-hint/">Create a custom hint step-by-step</a></li></ul></li><li class="dropdown__subitem"><p>How to</p><ul><li class="subitem"><a href="/docs/contributor-guide/how-to/connector/">Develop a connector</a></li><li class="subitem"><a href="/docs/contributor-guide/how-to/formatter/">Develop a formatter</a></li><li class="subitem"><a href="/docs/contributor-guide/how-to/hint/">Develop a hint</a></li><li class="subitem"><a href="/docs/contributor-guide/how-to/parser/">Develop a parser</a></li><li class="subitem"><a href="/docs/contributor-guide/how-to/common-hint-scenarios/">Implement common hint scenarios</a></li><li class="subitem"><a href="/docs/contributor-guide/how-to/test-rules/">Test a hint</a></li></ul></li></ul></li></ul></div><div class="module module--secondary table-of-contents treeview main-view" role="navigation"><ul role="tree" aria-labelledby="page-heading" tabindex="0"><li role="treeitem" aria-label="subsection" tabindex="0" aria-expanded="false"><div class=" toc-section-title "><span class="text">Getting started</span> <span class="icon"></span></div><ul role="group"><li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="/docs/contributor-guide/getting-started/architecture/" tabindex="-1">Architecture</a></div></li><li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="/docs/contributor-guide/getting-started/development-environment/" tabindex="-1">Development environment</a></div></li><li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="/docs/contributor-guide/getting-started/events/" tabindex="-1">Events</a></div></li><li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="/docs/contributor-guide/getting-started/pull-requests/" tabindex="-1">Pull requests</a></div></li></ul></li><li role="treeitem" aria-label="subsection" tabindex="0" aria-expanded="false"><div class=" toc-section-title "><span class="text">Guides</span> <span class="icon"></span></div><ul role="group"><li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="/docs/contributor-guide/guides/create-custom-hint/" tabindex="-1">Create a custom hint step-by-step</a></div></li></ul></li><li role="treeitem" aria-label="subsection" tabindex="0" aria-expanded="true"><div class=" toc-section-title--active "><span class="text">How to</span> <span class="icon"></span></div><ul role="group"><li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="/docs/contributor-guide/how-to/connector/" tabindex="0">Develop a connector</a></div></li><li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="/docs/contributor-guide/how-to/formatter/" tabindex="0">Develop a formatter</a></div></li><li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="/docs/contributor-guide/how-to/hint/" tabindex="0">Develop a hint</a></div></li><li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="/docs/contributor-guide/how-to/parser/" tabindex="0">Develop a parser</a></div></li><li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="/docs/contributor-guide/how-to/common-hint-scenarios/" tabindex="0">Implement common hint scenarios</a></div></li><li role="treeitem" aria-selected="true"><div class=" toc-subsection-title--active " aria-current="location"><a class="text" href="/docs/contributor-guide/how-to/test-rules/" tabindex="0">Test a hint</a></div></li></ul></li></ul></div><div class="module module--primary wrap-text"> <h1 id="test-a-hint">Test a hint<a href="#test-a-hint" class="headerlink" title="Test a hint"></a></h1><p>When testing a hint you might need to do different things like forcing a fail
request, return a binary, etc. This page documents what you need to do to start
testing a hint and how to configure the test server to do what you need.</p>
<h2 id="getting-started">Getting started<a href="#getting-started" class="headerlink" title="Getting started"></a></h2><p>If you have used the built-in tools to create a new hint (core or custom),
everything should already set up to use <code>hint-runner.ts</code> and the <code>testHint</code>
method.</p>
<p>If not, you need to:</p>
<ol>
<li>Create a <code>tests.ts</code> file in a folder with the name of the hint
(e.g.: <code>src/tests/hints/&lt;hint-id&gt;/tests.ts</code>)</li>
<li>Have the following template:</li>
</ol>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; HintTest &#125; <span class="keyword">from</span> <span class="string">'hint/dist/tests/helpers/hint-test-type'</span>; <span class="comment">// eslint-disable-line no-unused-vars</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> hintRunner <span class="keyword">from</span> <span class="string">'hint/dist/tests/helpers/hint-runner'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; getHintPath &#125; <span class="keyword">from</span> <span class="string">'hint/dist/src/lib/utils/hint-helpers'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> hintPath = getHintPath(__filename);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> tests: <span class="built_in">Array</span>&lt;HintTest&gt; = [</span><br><span class="line">    &#123;</span><br><span class="line">        name: <span class="string">'Name of the tests'</span>,</span><br><span class="line">        serverConfig: <span class="string">'HTML to use'</span>,</span><br><span class="line">        reports: [&#123;</span><br><span class="line">            message: <span class="string">'Message the error will have'</span>,</span><br><span class="line">            position: &#123; column: <span class="number">0</span>, line: <span class="number">0</span> &#125; <span class="comment">// Where the error will show.</span></span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123; ... &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">hintRunner.testHint(hintPath, tests);</span><br></pre></td></tr></table></figure>
<p>The high level overview of what’s is happening in the code above is as follows:</p>
<ol>
<li><code>tests</code> (of type <code>Array&lt;HintTest&gt;</code>) contains the list of things to test, the
server configuration to use (<code>serverConfig</code>) and the expected result(s)
(<code>reports</code>). If no results are defined that means <code>webhint</code> should not
fail that configuration. Otherwise the results should match the ones
defined.</li>
<li><code>hintRunner.testHint</code> will take an <code>Array&lt;HintTest&gt;</code> and create a web server
for each one of the items in it. It will also create a <code>webhint</code> object
with just the hint to test configured and run it against the web server for
that particular test.
The results from executing it are compared to those defined in
<code>HintTest.reports</code>. If they match, then everything is good.</li>
</ol>
<p>There’s more information and detail in the following sections.</p>
<h2 id="hinttest"><code>HintTest</code><a href="#hinttest" class="headerlink" title="`HintTest`"></a></h2><p><code>HintTest</code> defines a test that needs to be validated. Its properties are:</p>
<ul>
<li><code>name</code>: The name of the test. It’s a good practice to say what the test is
testing and what is the expected output. E.g.: “meta charset in body should
fail”</li>
<li><code>serverConfig</code>: This is the server configuration used for that particular
test. When running the tests, a local web server will be created for each
<code>HintTest</code> on a random port that <code>webhint</code> will analyze. There’s more
information about <code>serverConfig</code> below.</li>
<li><code>reports</code>: An array of <code>Report</code>s to match with the output of running
<code>webhint</code> to the specified configuration. A <code>Report</code> is what <code>webhint</code>
returns when it finds an issue. In this scenario, only the properties defined
on each <code>Report</code> will be matched. This means you can decide to ignore some
that are not relevant to you, i.e.: in the code above you could decide to
remove <code>position</code> and the test engine will not try to validate that property.</li>
</ul>
<h3 id="execute-code-before-or-after-collecting-the-results">Execute code <code>before</code> or <code>after</code> collecting the results<a href="#execute-code-before-or-after-collecting-the-results" class="headerlink" title="Execute code `before` or `after` collecting the results"></a></h3><p>In some scenarios you need to execute some code <code>before</code> or <code>after</code>
the actual tests (e.g.: if you need to mock a dependency). For those
cases you can use the <code>before</code> and <code>after</code> properties of <code>HintTest</code>:</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> tests: <span class="built_in">Array</span>&lt;HintTest&gt; = [</span><br><span class="line">    &#123;</span><br><span class="line">        after() &#123;</span><br><span class="line">            <span class="comment">// Code to execute right before calling `connector.close` goes here.</span></span><br><span class="line">        &#125;</span><br><span class="line">        before() &#123;</span><br><span class="line">            <span class="comment">// Code to execute before the creation of the engine object goes here.</span></span><br><span class="line">        &#125;,</span><br><span class="line">        name: <span class="string">'Name of the tests'</span>,</span><br><span class="line">        serverUrl: <span class="string">'https://example.com'</span>,</span><br><span class="line">        reports: [&#123;</span><br><span class="line">            message: <span class="string">'Message the error will have'</span></span><br><span class="line">        &#125;]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123; ... &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure>
<p>An example will be if the hint integrates with another service. You don’t want
to actually connect to that service during the tests (slow down, need to force
an specific output, etc.) so you will mock the connection to that service in
the <code>before</code> property.
<a href="https://github.com/webhintio/hint/blob/master/packages/hint-ssllabs/tests/tests.ts" target="_blank" rel="nofollow noreferrer noopener">An example of hint that does this is <code>ssllabs</code></a> where the call
to the server is completely mocked to return different grades.</p>
<h2 id="serverconfig"><code>serverConfig</code><a href="#serverconfig" class="headerlink" title="`serverConfig`"></a></h2><p><code>serverConfig</code> defined the web server configuration to use for a given test.
It can be of different types depending on your particular needs:</p>
<ul>
<li><code>string</code> containing the response for <code>/</code> (HTML, plain text, etc.).</li>
<li><code>object</code> with paths as properties names and their content as values:</li>
</ul>
<!-- eslint-disable no-unused-vars -->
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> serverConfig = &#123;</span><br><span class="line">    <span class="string">'/'</span>: <span class="string">'some HTML here'</span>,</span><br><span class="line">    <span class="string">'site.webmanifest'</span>: <span class="string">'other content'</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>This code will create a local web server that will return <code>some HTML here</code> to
all requests done to <code>/</code> and with <code>other content</code> to the requests done to
<code>site.webmanifest</code>.</p>
<p>You can even specify the headers and status code for the response for
a specific path, by using the <code>headers</code> and <code>status</code> properties:</p>
<!-- eslint-disable no-unused-vars -->
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> serverConfig = &#123;</span><br><span class="line">    <span class="string">'/'</span>: <span class="string">'page content goes here...'</span>,</span><br><span class="line">    <span class="string">'/example.js'</span>: &#123;</span><br><span class="line">        content: <span class="string">'script content goes here...'</span>,</span><br><span class="line">        headers: &#123;</span><br><span class="line">            <span class="string">'Content-Type'</span>: <span class="string">'text/javascript; charset=utf-8'</span>,</span><br><span class="line">            Header: <span class="string">'value'</span></span><br><span class="line">            <span class="comment">// ...</span></span><br><span class="line">        &#125;,</span><br><span class="line">        status: statusCode</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>Notes:</p>
<ul>
<li>If <code>content</code> is not specified, it will default to an empty string <code>''</code>.</li>
<li>To remove any of the default HTTP response headers, set their value
to <code>null</code> (e.g.: <code>headers: { '&lt;response_header&gt;': null }</code>).</li>
<li><code>status</code> defaults to <code>200</code>, so it only needs to be specified if its
value is different.</li>
</ul>
<h3 id="conditional-responses">Conditional <code>response</code>s<a href="#conditional-responses" class="headerlink" title="Conditional `response`s"></a></h3><p>Sometimes you need the server to respond differently to a route depending
on the contents of a <code>request</code>, e.g.: when requesting an asset that can be
compressed with different formats. The following is an example of how you
can return a different value depending on the content of the
<code>Accept-Encoding</code> header:</p>
<!-- eslint-disable no-unused-vars -->
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> serverConfig = &#123;</span><br><span class="line">    <span class="string">'&#123; "request": &#123; "headers":&#123; "Accept-Encoding":"gzip" &#125;&#125;&#125;'</span>: &#123;</span><br><span class="line">        <span class="string">'/'</span>: &#123;</span><br><span class="line">            content: &#123; <span class="comment">/* content here */</span> &#125;,</span><br><span class="line">            headers: &#123; <span class="comment">/* headers here */</span> &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="string">'&#123; "request": &#123; "headers":&#123; "Accept-Encoding":"br" &#125;&#125;&#125;'</span>: &#123;</span><br><span class="line">        <span class="string">'/'</span>: &#123;</span><br><span class="line">            content: &#123; <span class="comment">/* content here */</span> &#125;,</span><br><span class="line">            headers: &#123; <span class="comment">/* headers here */</span> &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="throwing-an-error">Throwing an error<a href="#throwing-an-error" class="headerlink" title="Throwing an error"></a></h3><p>If you need to force an error in the <code>connector</code> when visiting a URL
you have to make the content <code>null</code>. This will force a redirect to
<code>test://fail</code>, thus, causing an exception.</p>
<h2 id="testing-an-external-url">Testing an external URL<a href="#testing-an-external-url" class="headerlink" title="Testing an external URL"></a></h2><p>If you need to test an external resource (because you are integrating
with a third party service) you need to use the property <code>serverUrl</code>:</p>
<figure class="highlight ts"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> tests: <span class="built_in">Array</span>&lt;HintTest&gt; = [</span><br><span class="line">    &#123;</span><br><span class="line">        name: <span class="string">'Name of the tests'</span>,</span><br><span class="line">        reports: [&#123;</span><br><span class="line">            message: <span class="string">'Message the error will have'</span></span><br><span class="line">        &#125;],</span><br><span class="line">        serverUrl: <span class="string">'https://example.com'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123; ... &#125;</span><br><span class="line">];</span><br></pre></td></tr></table></figure>
<h2 id="hintrunnertesthint"><code>hintRunner.testHint()</code><a href="#hintrunnertesthint" class="headerlink" title="`hintRunner.testHint()`"></a></h2><p><code>hintRunner</code> is in charge of executing and validating the tests. The signature
of <code>hintRunner.testHint</code> is:</p>
<ul>
<li><code>hintPath</code>, the name of the hint being tested.</li>
<li><code>tests</code>, an <code>Array&lt;HintTest&gt;</code>.</li>
<li><code>configuration</code> (optional), allows you to modify the defaults of how the
tests are run.</li>
</ul>
<p><code>configuration</code> can have the following properties:</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"browserslist"</span>: [],</span><br><span class="line">    "https": boolean, // default is false</span><br><span class="line">    "hintOptions": &#123;</span><br><span class="line">        // hint properties</span><br><span class="line">    &#125;, // default is an empty object</span><br><span class="line">    "serial": boolean, //default is true</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>browserslist</code>: You can change the targeted browsers to check that the hint
adapts correctly with this property. It uses the same format as the one in
<code>.hintrc</code>.</li>
<li><code>https</code>: By default all tests are run over HTTP. If you need to test
something over HTTPS you want to set this property to <code>true</code>.
<strong>NOTE</strong>: Do not mix HTTP and HTTPS tests in the same file as it will not run
correctly.</li>
<li><code>serial</code>: By default all tests are run in parallel. If you need to run them
serially set it to <code>true</code></li>
<li><code>hintOptions</code>: Some hints allow further configuration. You can test those
configurations with this property.</li>
</ul>
<p>Each web server is started on a random port. If the <code>message</code> of a <code>report</code>
contains <code>localhost</code>, it will be replaces automatically with
<code>localhost:USEDPORT</code> so you don’t have to worry about it.</p>
<p><strong>Note</strong>: <code>hint-runner</code> will automatically test the hint in as many connectors
as possible, that’s the reason why you might see tests being run more than
once.</p>
<!-- link labels -->
 </div></div><a href="#main" class="anchor-top" hidden aria-label="back to top">top</a></div></article>  </main><footer class="footer footer--home"><div class="footer-nav container"><div class="footer-nav__item"><p class="category"><a href="/scanner/">Scanner</a></p><ul></ul></div><div class="footer-nav__item"><p class="category"><a href="/docs/">Documentation</a></p><ul><li><a href="/docs/contributor-guide/" data-ga-category="docs" data-ga-action="Contributor Guide" data-ga-label="footer">Contributor Guide</a></li><li><a href="/docs/user-guide/hints/" data-ga-category="docs" data-ga-action="Hints" data-ga-label="footer">Hints</a></li><li><a href="/docs/user-guide/" data-ga-category="docs" data-ga-action="User Guide" data-ga-label="footer">User Guide</a></li></ul></div><div class="footer-nav__item"><p class="category"><a href="/about/">About</a></p><ul><li><a href="/about/faq/" data-ga-category="docs" data-ga-action="FAQ" data-ga-label="footer">FAQ</a></li><li><a href="/about/changelog/" data-ga-category="docs" data-ga-action="Changelog" data-ga-label="footer">Changelog</a></li><li><a href="/about/governance/" data-ga-category="docs" data-ga-action="Governance" data-ga-label="footer">Governance</a></li><li><a href="https://js.foundation/community/code-of-conduct" data-ga-category="docs" data-ga-action="Code of Conduct" data-ga-label="footer">Code of Conduct</a></li></ul></div><ul class="footer-nav__item social-list"><li class="github-icon"><a href="https://github.com/webhintio" aria-label="Follow webhint on GitHub"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25"><path class="github-icon-svg" d="M12.5.4C5.7.4.2 5.9.2 12.7c0 5.4 3.5 10 8.4 11.7.6.1.8-.3.8-.6v-2.1C6 22.4 5.3 20 5.3 20c-.6-1.4-1.4-1.8-1.4-1.8-1.1-.7.1-.7.1-.7 1.2.1 1.9 1.3 1.9 1.3 1.1 1.9 2.9 1.3 3.6 1 .1-.8.4-1.3.8-1.6-2.7-.3-5.6-1.4-5.6-6.1 0-1.3.5-2.4 1.3-3.3-.2-.4-.6-1.6 0-3.3 0 0 1-.3 3.4 1.3 1-.3 2-.4 3.1-.4 1 0 2.1.1 3.1.4C17.9 5.2 19 5.5 19 5.5c.7 1.7.2 2.9.1 3.3.8.9 1.3 2 1.3 3.3 0 4.7-2.9 5.8-5.6 6.1.4.4.8 1.1.8 2.3v3.4c0 .3.2.7.8.6 4.9-1.6 8.4-6.2 8.4-11.7C24.8 5.9 19.3.4 12.5.4"/></svg></a></li><li class="twitter-icon"><a href="https://twitter.com/narwhalnellie" aria-label="Follow webhint on Twitter"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 24"><path class="twitter-icon-svg" d="M25 4.4c-.9.4-1.9.7-2.9.8 1-.6 1.8-1.6 2.2-2.8-1 .6-2.1 1-3.2 1.2-.9-1-2.2-1.6-3.7-1.6-2.8 0-5 2.3-5 5 0 .4 0 .8.1 1.2C8.3 8 4.6 6 2.1 2.9c-.4.8-.7 1.6-.7 2.6 0 1.8.9 3.3 2.2 4.2-.8-.1-1.5-.3-2.2-.7v.1c0 2.4 1.7 4.5 4.1 5-.4.1-.9.2-1.3.2-.3 0-.6 0-.9-.1.6 2 2.5 3.5 4.7 3.5-1.9 1.3-4 2.1-6.4 2.1-.4 0-.8 0-1.2-.1C2.6 21.2 5.3 22 8.1 22c9.3 0 14.4-7.7 14.4-14.4v-.7c1-.6 1.8-1.5 2.5-2.5"/></svg></a></li><li class="medium-icon"><a href="https://medium.com/webhint" aria-label="Follow webhint on Medium"><svg xmlns="http://www.w3.org/2000/svg" viewBox="4 2 40 40"><path d="M5 40V5h35v35H5zm8.56-12.63c0 .56-.03.7-.32 1.03l-2.45 3v.38h6.9v-.4l-2.4-2.98c-.3-.34-.35-.5-.35-1.03v-8.95l6.13 13.36h.7L27 18.42v10.64c0 .3 0 .35-.2.53L25 31.4v.37h9.2v-.4l-1.82-1.8c-.2-.17-.22-.23-.22-.52v-13.1c0-.3.03-.36.2-.54l1.83-1.8v-.32h-6.5L23.1 24.8l-5.2-11.55h-6.8v.4l2.14 2.63c.24.3.3.37.3.77V27.4z" class="medium-icon-svg"/></svg></a></li></ul></div></footer><script src="/static/scripts/treeview-b2395a787e.js" integrity="sha384-vf5VEm5YhuAisn2Nv1RhG4X9nEwlDKeeHDzsHnEEdGP2xqedcnoHQBJKOpapJ3Ag" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js" integrity="sha384-bpcisN7hXHzDmg5JLgtPet7fpev9Wwwqgw8zlXpOh7AkvJ+wYjwrMzHH8fVvq1Dq" crossorigin="anonymous"></script><script src="/static/scripts/common-82774ec904.js" integrity="sha384-Sq0CJ5fIn92odldxyuEpw4FGTvJiXyTlJ7rE4wkHLhpF9zKPiLOxOTaQijjcsYUo" crossorigin="anonymous"></script><script>!function(){var n,e=docsearch({apiKey:"2ee58f908e6d720c4f72a9645ce0e857",indexName:"webhint",inputSelector:"#search-input",appId:"0R8E5SPAFP",debug:!1,handleSelected:function(e,t,o){window.innerWidth<n?t.target.closest("form").submit():window.location.href=o.url}}),t=document.querySelector(".algolia-autocomplete .ds-dropdown-menu");n=parseInt(window.getComputedStyle(t).minWidth),e.autocomplete.on("autocomplete:opened",function(){document.body.clientWidth<n&&e.autocomplete.autocomplete.close()})}()</script><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-101540923-1","auto"),ga("set","transport","beacon"),ga("set","anonymizeIp",!0),ga("send","pageview")</script><script async src="https://www.google-analytics.com/analytics.js"></script></body></html>